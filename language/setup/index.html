<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>System Setup - XDK LIVE</title>
    <meta name="generator" content="Hugo 0.25.1" />

    
    <meta name="description" content="The documentation of the XDK LIVE language.">
    
    <link rel="canonical" href="../../language/setup/">
    
    <meta name="author" content="Christian Weichel">
    

    <meta property="og:url" content="/language/setup/">
    <meta property="og:title" content="XDK LIVE">
    <meta property="og:image" content="/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="XDK LIVE">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('/fonts/icon.eot');
        src: url('/fonts/icon.eot')
               format('embedded-opentype'),
             url('/fonts/icon.woff')
               format('woff'),
             url('/fonts/icon.ttf')
               format('truetype'),
             url('/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="../../javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-yellow palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        System Setup
      </div>
    </div>

    

    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="../../" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../images/logo.png">
        </div>
      
      <div class="name">
        <strong>XDK LIVE <span class="version">1.0.0</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Download" href="../../download">
	
	Download
</a>



  
</li>



<li>
  
    



<a  title="Getting Started" href="../../getting-started/">
	
	Getting Started
</a>



  
</li>



<li>
  
    



<a  title="Concepts" href="../../concepts">
	
	Concepts
</a>



  
</li>



<li>
  
    <span class="section">Language</span>
    <ul>
      
        
        



<a  title="Introduction" href="../../language/">
	
	Introduction
</a>



      
        
        



<a  title="Basics" href="../../language/basics/">
	
	Basics
</a>



      
        
        



<a  title="Packages" href="../../language/packages/">
	
	Packages
</a>



      
        
        



<a class="current" title="System Setup" href="../../language/setup/">
	
	System Setup
</a>


<ul id="scrollspy">
</ul>


      
        
        



<a  title="Types" href="../../language/types/">
	
	Types
</a>



      
        
        



<a  title="Functions" href="../../language/functions/">
	
	Functions
</a>



      
        
        



<a  title="Events" href="../../language/events/">
	
	Events
</a>



      
        
        



<a  title="Exceptions" href="../../language/exceptions/">
	
	Exceptions
</a>



      
        
        



<a  title="Standard Library" href="../../language/stdlib/">
	
	Standard Library
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Platforms</span>
    <ul>
      
        
        



<a  title="XDK110" href="../../platforms/xdk110/">
	
	XDK110
</a>



      
    </ul>
  
</li>



<li>
  
    



<a  title="FAQ" href="../../faq/">
	
	FAQ
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>System Setup </h1>

			

<h2 id="setup">Setup</h2>

<p>Platforms define system resources (e.g. connectivity, sensors, GPIO, I2C, SPI). System resources can be set up before use. Sensors are the only system resources which do not require explicit setup.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">setup</span> <span class="nx">accelerometer</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>Some system resources can be named</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">setup</span> <span class="nx">devNetwork</span> : <span class="kt">WLAN</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">setup</span> <span class="nx">productionNetwork</span> : <span class="kt">WLAN</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">setup</span> <span class="nx">red</span> : <span class="kt">LED</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>Some system resources can exist multiple times.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">setup</span> <span class="nx">networkA</span> : <span class="kt">WLAN</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">setup</span> <span class="nx">networkB</span> : <span class="kt">WLAN</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>Some system resources (connectivity and sensors) have configuration items. Configuration items are set like named parameters with basic expressions. Configuration items are typed.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">setup</span> <span class="nx">accelerometer</span> <span class="p">{</span>
    <span class="nx">myConfigItem</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nx">myIntConfigItem</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="cm">/* compiler error: configuration item type int32_t and bool are not compatible. */</span>
<span class="p">}</span>
</code></pre></div>

<p>Some system resources have variable configuration items (VCI), e.g. connectivity, GPIO, I2C, SPI. VCI are defined like variables using vci functions. VCI can be mutable or immutable much like variables using var and let. The system resource defines the VCI functions available.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">setup</span> <span class="nx">red</span> : <span class="kt">LED</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">on</span> : <span class="kt">bool</span> <span class="o">=</span> <span class="nx">light_up</span><span class="p">(</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">Red</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>The VCI of system resources become variables in the global namespace. The variable names are qualified with the resource they originate from.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">setup</span> <span class="nx">red</span> : <span class="kt">LED</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">on</span> : <span class="kt">bool</span> <span class="o">=</span> <span class="nx">light_up</span><span class="p">(</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">Red</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">fn</span> <span class="nx">foo() {</span>
    <span class="cm">/* toogle red LED */</span>
    <span class="nx">red</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="o">!</span><span class="nx">red</span><span class="p">.</span><span class="nx">on</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>


			<aside class="copyright" role="note">
				
				&copy; 2018 Bosch Connected Devices and Solutions GmbH &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="../../language/stdlib/" title="Standard Library">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Standard Library
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="../../language/types/" title="Types">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Types
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

