<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Common Concepts - XDK LIVE</title>
    <meta name="generator" content="Hugo 0.25.1" />

    
    <meta name="description" content="The documentation of the XDK LIVE language.">
    
    <link rel="canonical" href="../../language/commonconcepts/">
    
    <meta name="author" content="Christian Weichel">
    

    <meta property="og:url" content="/language/commonconcepts/">
    <meta property="og:title" content="XDK LIVE">
    <meta property="og:image" content="/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="XDK LIVE">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('/fonts/icon.eot');
        src: url('/fonts/icon.eot')
               format('embedded-opentype'),
             url('/fonts/icon.woff')
               format('woff'),
             url('/fonts/icon.ttf')
               format('truetype'),
             url('/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="../../javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-yellow palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Common Concepts
      </div>
    </div>

    

    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="../../" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../images/logo.png">
        </div>
      
      <div class="name">
        <strong>XDK LIVE <span class="version">1.0.0</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Download" href="../../download">
	
	Download
</a>



  
</li>



<li>
  
    



<a  title="Concepts" href="../../concepts">
	
	Concepts
</a>



  
</li>



<li>
  
    



<a  title="Getting Started" href="../../getting-started/">
	
	Getting Started
</a>



  
</li>



<li>
  
    <span class="section">Language</span>
    <ul>
      
        
        



<a  title="Introduction" href="../../language/">
	
	Introduction
</a>



      
        
        



<a class="current" title="Common Concepts" href="../../language/commonconcepts/">
	
	Common Concepts
</a>


<ul id="scrollspy">
</ul>


      
        
        



<a  title="Packages" href="../../language/packages/">
	
	Packages
</a>



      
        
        



<a  title="System Setup" href="../../language/setup/">
	
	System Setup
</a>



      
        
        



<a  title="Types" href="../../language/types/">
	
	Types
</a>



      
        
        



<a  title="Functions" href="../../language/functions/">
	
	Functions
</a>



      
        
        



<a  title="Events" href="../../language/events/">
	
	Events
</a>



      
        
        



<a  title="Exceptions" href="../../language/exceptions/">
	
	Exceptions
</a>



      
        
        



<a  title="Standard Library" href="../../language/stdlib/">
	
	Standard Library
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Platforms</span>
    <ul>
      
        
        



<a  title="XDK110" href="../../platforms/xdk110/">
	
	XDK110
</a>



      
    </ul>
  
</li>



<li>
  
    



<a  title="FAQ" href="../../faq/">
	
	FAQ
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Common Concepts </h1>

			

<h2 id="variables">Variables</h2>

<p>By default variables in XDK LIVE are immutable which helps us optimize code at compile time.
However, you can always choose to make variables mutable if you need it.
When a variable is immutable that means its value has to be set during declaration and cannot be changed afterwards.
The following code snippet illustrates the idea (we&rsquo;ve omitted the package and import statements for brevity):</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">fn</span> <span class="nx">main() {</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
    <span class="nx">println</span><span class="p">(</span><span class="sb">`The value of x is </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
    
    <span class="nx">x</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span>
    <span class="nx">println</span><span class="p">(</span><span class="sb">`The value of x is now </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>When you save this code, you will see an error message <code>Assignment to constant not allowed.</code> at the <code>x = 64</code> statement.
That&rsquo;s the compiler enforcing the immutability of <code>x</code>.</p>

<p><img src="../immutableAssignmentError.png" alt="Error assigning to constant" /></p>

<p>To make variables mutable, use the <code>var</code> keyword. Then, you can re-assign a value to the variable after it was declared.
For example</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span>
</code></pre></div>

<p>does not produce any compiler errors, unlike the example above. Because we wrote <code>var</code> instead of <code>let</code>, <code>x</code> became mutable and thus could be re-assigned to a different value.</p>

<div class="admonition note">
<p class="admonition-title">Tip: be immutable where you can</p>
<p>Using mutable variables instead of immutable ones can lead to less efficient code being generated.
Thus, as a rule of thumb use immutable variables where you can.</p>
</div>

<h3 id="types-and-type-inference">Types and Type Inference</h3>

<p>Until now we have never ad to write the type of the variables we declared.
XDK LIVE supports <em>type inference</em> so that you, the developer, does not have to tell the compiler things it already knows.
However, there are times when we are unable to infer the type of a variable, for example when it is not initialized, or the compiler gets the type wrong.
In those cases you can explicitly tell the compiler what type a variable should have. For example:</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">let</span> <span class="nx">x</span> : <span class="kt">uint8</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>     <span class="c1">// x is forced to be uint8, compared to the otherwise inferred int32 </span>
<span class="kd">var</span> <span class="nx">y</span> : <span class="kt">uint16</span><span class="p">;</span>         <span class="c1">// y does not have an explicit initialization, so we need to explicitly denote the type.</span>
</code></pre></div>

<p>This syntax for specifying types is consistent throughout the language. You can use it to specify the types of function parameters, the return type of a function or the types of structure members.</p>

<h3 id="scoping-and-shadowing">Scoping and Shadowing</h3>

<p>In XDK LIVE variables are block scoped and there is no shadowing within the same block. This is unlike languages like Rust or Haskell for example where one would be able to re-use the same name in multiple variable declarations.
The following is not legal XDK LIVE code, the compiler will complain that it <code>Cannot redeclare variable 'x'</code>.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">fn</span> <span class="nx">main() {</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>      <span class="c1">// Compiler error: Cannot redeclare variable &#39;x&#39;</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>      <span class="c1">// Compiler error: Cannot redeclare variable &#39;x&#39;</span>
<span class="p">}</span>
</code></pre></div>

<p>However, in a new block one can shadow a variable declared outside that block. The following code, for example, works just fine as it takes the <code>x</code> declared outside the <em>if block</em>, multiplies it by two and stores it in a <em>new immutable variable</em> also named x.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="nx">fn</span> <span class="nx">main() {</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
    
    <span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
        <span class="nx">println</span><span class="p">(</span><span class="sb">`x in block equals </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>      <span class="c1">// Output: x in block equals 84</span>
    <span class="p">}</span>
    
    <span class="nx">println</span><span class="p">(</span><span class="sb">`x outside block equals </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>     <span class="c1">// Output: x outside block equals 42</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="expressions">Expressions</h2>

<p>Expressions can be one of the following literals:</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="mh">0xBA</span>    <span class="cm">/* hex uint32_t literal */</span>
<span class="mi">0</span><span class="nx">b01</span>    <span class="cm">/* binary uint32_t literal */</span>
<span class="mi">1</span>       <span class="cm">/* uint32_t literal */</span>
<span class="o">-</span><span class="mi">1</span>      <span class="cm">/* int32_t literal */</span>
<span class="o">-</span><span class="mf">1.0</span>    <span class="cm">/* float literal */</span>
<span class="mf">1.0e4</span>   <span class="cm">/* float literal */</span>
<span class="s2">&quot;1&quot;</span>     <span class="cm">/* string literal */</span>
<span class="s1">&#39;1&#39;</span>     <span class="cm">/* string literal */</span>
</code></pre></div>

<p>Expressions support basic arithmetic.</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">(</span><span class="nx">foo</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">3.0</span><span class="p">;</span>
</code></pre></div>

<p>Valid operators are:</p>

<ul>
<li>multiplication: <code>*</code></li>
<li>addition: <code>+</code></li>
<li>subtraction: <code>-</code></li>
<li>division: <code>/</code></li>
<li>bit-wise negation: <code>~</code></li>
<li>bit-shift left: <code>&lt;&lt;</code></li>
<li>bit-shift right: <code>&gt;&gt;</code></li>
<li>logical negation (bool only): <code>!</code>
<br /></li>
</ul>

<p>Expressions can be explicitly cast to another type using the as keyword</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="mf">42.0</span> <span class="o">*</span> <span class="mf">3.5</span><span class="p">)</span> <span class="kr">as</span> <span class="nx">uint32_t</span><span class="p">;</span>
</code></pre></div>

<h2 id="string-interpolation">String interpolation</h2>

<h2 id="optional-values">Optional Values</h2>

<p>All types can be made optional using the ? operator</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">var</span> <span class="nx">foo</span> : <span class="kt">uint32_t?</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> : <span class="kt">RingBuffer</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">?&gt;</span> <span class="o">=</span> <span class="k">new</span><span class="p">(</span><span class="nx">size</span> <span class="o">=</span> <span class="mi">10</span><span class="p">);</span>
</code></pre></div>

<p>Optional values can be unpacked using the value function</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">var</span> <span class="nx">foo</span> : <span class="kt">uint32_t?</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">value</span><span class="p">()</span> <span class="o">==</span> <span class="mi">42</span> <span class="cm">/* true */</span>
<span class="nx">value</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="o">==</span> <span class="mi">42</span> <span class="cm">/* true */</span>
</code></pre></div>

<h2 id="control-structures">Control Structures</h2>

<p>Code can branch using if statements</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">foo</span> <span class="o">&gt;=</span> <span class="mi">15</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;That&#39;s high&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">foo</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;That&#39;s less high&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;That&#39;s not high&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>If-conditions must be boolean</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span> <span class="cm">/* compiler error: Incompatible types int32_t and boolean. */</span>
</code></pre></div>

<p>Curly brackets for blocks are required</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;Foo&quot;</span><span class="p">);</span> <span class="cm">/* syntax error: Missing { */</span>
</code></pre></div>

<p>Traditional for loops are supported</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>Traditional while loops are supported</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>Do-while loops are supported</p>
<div class="highlight"><pre><code class="language-TypeScript" data-lang="TypeScript"><span></span><span class="k">do</span> <span class="p">{</span> <span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</code></pre></div>


			<aside class="copyright" role="note">
				
				&copy; 2018 Bosch Connected Devices and Solutions GmbH &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="../../getting-started/" title="Getting Started">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Getting Started
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="../../language/events/" title="Events">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Events
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

